var oAlunoOffline={jqThis:null,evento_click:"click",seletor_geral:".conteudo-geral",bootstrap_table:"#table-alunos-list",url_view_photos:(oGeral.string_url_base_aplicacao||oInicial.BaseUrlAplicacao)+"/Offline/Produtos",cookie_user_name:cookie_user_name,AlunoTurmaID:0,Carregar:function(){var n=this;n.jqThis=jQuery(n.seletor_geral);n.jqThis.length&&n.CarregarEventos()},CarregarEventos:function(){var n=this},BtnVisualizarFotos:function(n,t){var u=oAlunoOffline,r="lnkGotoProducts"+t.AlunoTurmaID+"_"+t.BrandID,i="data-aluno_turma_id='"+t.AlunoTurmaID+"' data-user_id_vendedor='"+t.UserIDvENDEDOR+"' ";return i+="data-aluno_id = '"+t.AlunoID+"' data-turma_id = '"+t.TurmaID+"' data-album_id='"+t.AlbumID+"'",i+="data-AlunoTurmaID_Cript = '"+t.AlbumID_Cript+"' data-nome_aluno = '"+t.NomeAluno+"' data-nome_turma = '"+t.NomeTurma+"'","<a onclick='oAlunoOffline.ShowProducts(\""+r+"\")' id='"+r+"' "+i+" href='#' class='mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect mdl-button--colored fontSizeOpt'>Projetos<\/a>"},BtnRemoverAluno:function(n,t){return"<div onclick='oAlunoOffline.ShowModalRemove("+t.AlunoTurmaID+")'>  <div class='btnRemover'><\/div> <\/div>"},ShowModalRemove:function(n){var i=this,t=$("#div-remove-usuario");t.find(".btn-ok").unbind(i.evento_click);t.find(".btn-ok").on(i.evento_click,function(){i.removeAlunoIndexDb(n);t.modal("hide")});t.modal()},removeAlunoIndexDb:function(n){var t=this;oUtil.ShowLoader(!0);oUtil.DeleteInfoIndexDB(n,t.removeAlunoOk)},removeAlunoOk:function(){var n=oAlunoOffline;n.LoadAlunosIndexDB(!0);oUtil.ShowModalGeral("<i class='material-icons ico-done'>done<\/i> Remover Aluno sincronizado","Aluno removido com sucesso")},GetAlunosFromVendedor:function(n){for(var f=oAlunoOffline,u=[],e=n.length,t=oOffline.getCookie(f.cookie_user_name),r,t=JSON.parse(t),i=0;i<e;i++)r=n[i],r.UserIDvENDEDOR==t.User_ID&&r.BrandID==t.Brand_ID&&u.push(r);return u},LoadAlunosIndexDB:function(n){n==undefined&&(n=!1);var t=dbControl.v_GRD_ListaAlunos.Name;dbControl.SelectALL(t,function(t){var i=$(oAlunoOffline.bootstrap_table),r=oAlunoOffline.GetAlunosFromVendedor(t);n?i.bootstrapTable("load",r):i.bootstrapTable({data:r})})},BtnDetalhes:function(n,t){var i="onclick=\"javascript:oAlunoOffline.ShowPop('"+t.NomeAluno+"','"+t.NomeTurma+"','"+t.EnderecoAluno+"','"+t.TelefoneAluno+"')\"";return"<div class='boxDetalhes'><div class='dvLnk'><a href='#'"+i+"><span class='glyphicon glyphicon-zoom-in' aria-hidden='true'><\/span><\/a><\/div><div class='dvBoxConteudo'><div class='dvNome'><span class='spNome'>"+n+" <\/span><\/div><div class='dvDetalhes'>Ver Detalhes<\/div> <div class='clear'><\/div><\/div>"},ShowPop:function(n,t,i,r){var e=this,u=$(".div-modal-geral"),f="<table class='tabelaDetalhes'><tr><th>NOME<\/td><td>"+n+"<\/td><\/tr><tr><th>TURMA<\/td><td>"+t+"<\/td><\/tr><tr><th>ENDEREÇO<\/td><td>"+i+"<\/td><\/tr><tr><th>TELEFONE<\/td><td>"+r+"<\/td><\/tr><\/table>";u.find(".modal-body").html(f);oUtil.ShowLoader(!1);oUtil.ShowProgress(!1);u.modal()},ShowProducts:function(n){var t=$("#"+n),r=$(t).closest("a").attr("data-aluno_turma_id"),i=$(t).closest("a").attr("data-user_id_vendedor"),u=$(t).closest("a").attr("data-aluno_id"),f=$(t).closest("a").attr("data-turma_id"),e=$(t).closest("a").attr("data-album_id"),o=$(t).closest("a").attr("data-AlunoTurmaID_Cript"),s=$(t).closest("a").attr("data-nome_aluno"),h=$(t).closest("a").attr("data-nome_turma"),c={ID:i,AlunoTurmaID:r,UserIdVendedor:i,AlunoID:u,TurmaID:f,AlbumID:e,AlunoTurmaID_Cript:o,NomeAluno:s,NomeTurma:h,Origem:"OFFLINE"};sessionStorage.setItem("config_turma_aluno",JSON.stringify(c));window.location=oAlunoOffline.url_view_photos}};oOffline.verifyAcesso();$.fn.bootstrapTable.locales["pt-BR"]={formatNoMatches:function(){return"Você não possui nenhum aluno sincronizado no modo off-line"}};jQuery(document).ready(function(){oAlunoOffline.Carregar()});dbControl.CallbackOpenOnSuccess=function(){oAlunoOffline.LoadAlunosIndexDB()};
/*
//# sourceMappingURL=aluno-offline.min.js.map
*/