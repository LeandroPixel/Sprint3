(function(n,t){if(typeof define=="function"&&define.amd)define(["exports","jquery"],function(n,i){return t(n,i)});else if(typeof exports!="undefined"){var i=require("jquery");t(exports,i)}else t(n,n.jQuery||n.Zepto||n.ender||n.$)})(this,function(n,t){function i(n,i){function e(n,t,i){return n[t]=i,n}function s(n,t){for(var f=n.match(r.key),i,u;(i=f.pop())!==undefined;)r.push.test(i)?(u=h(n.replace(/\[\]$/,"")),t=e([],u,t)):r.fixed.test(i)?t=e([],i,t):r.named.test(i)&&(t=e({},i,t));return t}function h(n){return f[n]===undefined&&(f[n]=0),f[n]++}function c(n){switch(t('[name="'+n.name+'"]',i).attr("type")){case"checkbox":return n.value==="on"?!0:n.value;default:return n.value}}function l(t){if(!r.validate.test(t.name))return this;var i=s(t.name,c(t));return u=n.extend(!0,u,i),this}function a(t){if(!n.isArray(t))throw new Error("formSerializer.addPairs expects an Array");for(var i=0,r=t.length;i<r;i++)this.addPair(t[i]);return this}function o(){return u}function v(){return JSON.stringify(o())}var u={},f={};this.addPair=l;this.addPairs=a;this.serialize=o;this.serializeJSON=v}var r={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return i.patterns=r,i.serializeObject=function(){return new i(t,this).addPairs(this.serializeArray()).serialize()},i.serializeJSON=function(){return new i(t,this).addPairs(this.serializeArray()).serializeJSON()},typeof t.fn!="undefined"&&(t.fn.serializeObject=i.serializeObject,t.fn.serializeJSON=i.serializeJSON),n.FormSerializer=i,i}),function(n){n.fn.longTouch=function(t,i){var r;i=i||500;n(this).on("mousedown",function(u){return u.preventDefault(),r=setTimeout(function(){t(n(this),u)},i),!1});n(document).on("mouseup",function(){return clearTimeout(r),!1})}}(jQuery);var oGeral={jqThis:null,jqModalEsqueciSenha:null,string_url_base_aplicacao:oInicial.BaseUrlAplicacao,string_url_redirect_login:"/Login/Logar",string_url_logout:"/Login/Logout",string_url_logout_nicephotos:"/logout.asp?forceDesktop=1",string_url_esqueci_senha:"/Login/EsqueciMinhaSenha",string_title_btn_fullscreen_open:"TELA CHEIA",string_title_btn_fullscreen_close:"SAIR DO MODO TELA CHEIA",evento_click:"click",evento_load:"load",evento_keyup:"keyup",evento_shown_modal:"shown.bs.modal",seletor_geral:"body",seletor_btn_sair:".ancora-logout",seletor_ancora_esqueci_senha:".ancora-esqueci-minha-senha",seletor_modal_esqueci_senha:".div-esqueci-senha-modal",seletor_btn_esqueci_senha_enviar:".btn-esqueci-senha-enviar",seletor_btn_esqueci_senha_enviar_inativo:".btn-esqueci-senha-enviar:not(.inativo)",seletor_tbx_email_esqueci_senha:".tbx-email",seletor_div_mensagem_esqueci_senha_paragrafo:".div-esqueci-senha-mensagem p",seletor_btn_fullscreen:".icone-fullScreen",Carregar:function(){var n=this;n.string_url_redirect_login=n.string_url_base_aplicacao+n.string_url_redirect_login;n.string_url_logout=n.string_url_base_aplicacao+n.string_url_logout;n.string_url_esqueci_senha=n.string_url_base_aplicacao+n.string_url_esqueci_senha;n.jqThis=$(n.seletor_geral);n.jqThis.length&&(n.jqModalEsqueciSenha=n.jqThis.find(n.seletor_modal_esqueci_senha),n.CarregarEventos())},CarregarEventos:function(){var n=this;n.jqThis.on(n.evento_click,n.seletor_ancora_esqueci_senha,function(){return n.MostrarModalEsqueciSenha(),!1}).on(n.evento_click,n.seletor_btn_esqueci_senha_enviar_inativo,function(){n.ValidarFormularioEsqueciSenha()}).on(n.evento_keyup,n.seletor_tbx_email_esqueci_senha,function(t){n.TratarKeyUpEmailEsqueciSenha(t)}).on(n.evento_shown_modal,n.jqModalEsqueciSenha,function(){n.jqModalEsqueciSenha.find(n.seletor_tbx_email_esqueci_senha).focus()}).on(n.evento_click,n.seletor_btn_fullscreen,function(t){t.preventDefault();window.innerHeight!=screen.height?n.RequisitarFullscreen(document.documentElement):n.SairFullscreen(document.documentElement)})},RequisitarFullscreen:function(n){var t=this;n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.msRequestFullscreen?n.msRequestFullscreen():console.log("Seu browser não tem suporte à Fullscreen API.");t.jqThis.find(t.seletor_btn_fullscreen).attr("title",t.string_title_btn_fullscreen_close).css({transform:"rotate(180deg)"})},SairFullscreen:function(){var n=this;document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():console.log("Seu browser não tem suporte à Fullscreen API.");n.jqThis.find(n.seletor_btn_fullscreen).attr("title",n.string_title_btn_fullscreen_open).css({transform:""})},RedirectPost:function(n,t,i){var r,f,u;if(metodo=i||"post",r=document.createElement("form"),r.setAttribute("method",metodo),r.setAttribute("action",n),t)for(f in t)t.hasOwnProperty(f)&&(u=document.createElement("input"),u.setAttribute("type","hidden"),u.setAttribute("name",f),u.setAttribute("value",t[f]),r.appendChild(u));document.body.appendChild(r);r.submit()},TratarKeyUpEmailEsqueciSenha:function(n){var t=this;n.keyCode==13?t.jqModalEsqueciSenha.find(t.seletor_btn_esqueci_senha_enviar).focus().trigger(t.evento_click):0},MostrarModalEsqueciSenha:function(){var n=this;n.jqModalEsqueciSenha.modal()},EsconderModalEsqueciSenha:function(){var n=this;n.jqModalEsqueciSenha.modal("hide")},ValidarFormularioEsqueciSenha:function(){var n=this,t=n.jqModalEsqueciSenha.find(n.seletor_tbx_email_esqueci_senha),i="";if(t.val().trim()==""&&(i+="- Informe seu email;",t.focus()),i!="")return n.jqModalEsqueciSenha.find(n.seletor_div_mensagem_esqueci_senha_paragrafo).slideUp(400,function(){$(this).html(i.replace(/;/g,"<br/>")).slideDown(400)}),!1;try{$.ajax({method:"POST",url:n.string_url_esqueci_senha,contentType:"application/json",data:JSON.stringify({email:t.val().trim(),brand_id:oInicial.Brand_ID}),beforeSend:function(){n.jqModalEsqueciSenha.find(n.seletor_div_mensagem_esqueci_senha_paragrafo).slideUp(400,function(){$(this).html("")});n.jqModalEsqueciSenha.find(n.seletor_btn_esqueci_senha_enviar).addClass("inativo disabled");t.addClass("ativo").attr("disabled","disabled")}}).done(function(i){i.Sucesso?t.val(""):t.focus();n.jqModalEsqueciSenha.find(n.seletor_div_mensagem_esqueci_senha_paragrafo).promise().done(function(){$(this).html(i.Mensagem);n.jqModalEsqueciSenha.find(n.seletor_btn_esqueci_senha_enviar).removeClass("inativo disabled");n.jqModalEsqueciSenha.find(n.seletor_div_mensagem_esqueci_senha_paragrafo).slideDown(400);t.removeClass("ativo").removeAttr("disabled")})}).fail(function(i,r){console.log(r);n.jqModalEsqueciSenha.find(n.seletor_btn_esqueci_senha_enviar).removeClass("inativo disabled");n.jqModalEsqueciSenha.find(n.seletor_div_mensagem_esqueci_senha_paragrafo).slideDown(400);t.removeClass("ativo")}).always(function(){})}catch(r){console.log(r.message)}}};$(document).ready(function(){oGeral.Carregar();$.datetimepicker!=undefined&&$.datetimepicker.setLocale("pt-BR")});
/*
//# sourceMappingURL=geral.min.js.map
*/