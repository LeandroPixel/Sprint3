var oLogin={jqThis:null,string_url_base_aplicacao:oGeral.string_url_base_aplicacao||oInicial.BaseUrlAplicacao,string_informe_login_senha:"Informe seu login e sua senha",string_informe_login:"Informe seu login",string_informe_senha:"Informe sua senha",string_url_validar_login:"/Login/ValidarLogin",string_url_redirect_login:"/Login/Logar",pageDefault:"",evento_click:"click",evento_load:"load",evento_submit:"submit",evento_keyup:"keyup",seletor_geral:".conteudo-login",seletor_btn_entrar:".btn-entrar",seletor_btn_entrar_nao_ativo:".btn-entrar:not(.ativo)",seletor_tbx_login:".tbx-login",seletor_tbx_password:".tbx-password",seletor_span_erro_login:".alert-danger-on",Carregar:function(n){var t=this;t.string_url_validar_login=t.string_url_base_aplicacao+t.string_url_validar_login;t.string_url_redirect_login=t.string_url_base_aplicacao+t.string_url_redirect_login;t.jqThis=jQuery(t.seletor_geral);t.jqThis.length&&t.CarregarEventos();t.pageDefault=n},CarregarEventos:function(){var n=this;n.jqThis.on(n.evento_click,n.seletor_btn_entrar_nao_ativo,function(){n.ValidarLogin()}).on(n.evento_keyup,n.seletor_tbx_login+","+n.seletor_tbx_password,function(t){n.LoginTratarKeyUp(t)})},LoginTratarKeyUp:function(n){var t=this;n.keyCode==13?jQuery(t.seletor_btn_entrar_nao_ativo).focus().trigger(t.evento_click):0},ValidarLogin:function(){var n=this,t=!1,u="",i=n.jqThis.find(n.seletor_tbx_login),r=n.jqThis.find(n.seletor_tbx_password),e,f;if(t||i.val().trim().length!=0||r.val().trim().length!=0||(u=n.string_informe_login_senha,i.focus(),t=!0),t||i.val().trim().length!=0||(u=n.string_informe_login,i.focus(),t=!0),t||r.val().trim().length!=0||(u=n.string_informe_senha,r.focus(),t=!0),t){n.jqThis.find(n.seletor_span_erro_login).slideUp("fast",function(){jQuery(this).text(u).slideDown("fast")});return}e=n.jqThis.find(n.seletor_btn_entrar).val();f={email:i.val().trim(),senha:r.val(),brand_id:oInicial.Brand_ID,url_destino:"/"};n.jqThis.find(n.seletor_btn_entrar).val("").addClass("ativo");n.jqThis.find(n.seletor_span_erro_login).slideUp("fast",function(){jQuery.ajax({url:n.string_url_validar_login,contentType:"application/json",type:"POST",data:JSON.stringify({email:i.val().trim(),senha:r.val(),brand_id:oInicial.Brand_ID})}).done(function(t){if(t)if(t.Sucesso){var i={email:f.email,senha:f.senha,brand_id:f.brand_id};oGeral.RedirectPost(n.string_url_redirect_login,i)}else t.Mensagem?(n.jqThis.find(n.seletor_btn_entrar).val(e).removeClass("ativo"),n.jqThis.find(n.seletor_span_erro_login).text(t.Mensagem).slideDown("fast")):window.document.location.reload(!0)}).fail(function(t,i){console.log(i);n.jqThis.find(n.seletor_btn_entrar).val(e).removeClass("ativo")}).always(function(){})})},TratarUsuarioLogado:function(){oOffline.vefiryUserIsLogged()&&window.document.location.reload(!0)}};oOffline.verifyUserLogged()&&(document.location.href=default_page_logged_offline);oOffline.vefiryUserIsLogged()&&(document.location.href=pageDefault);jQuery(document).ready(function(){oLogin.Carregar(pageDefault)});oOffline.CallbackVerifyOnline=function(n){n&&oLogin.TratarUsuarioLogado()};
/*
//# sourceMappingURL=login.min.js.map
*/