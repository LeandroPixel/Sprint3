var oOffline={cookie_offline_name:"",default_page_logged:"",string_url_base_aplicacao:oInicial.BaseUrlAplicacao,string_url_api_tools_ping:"/api/Tools/ping",intervalVerifyOnline:null,logout_online:"",url_vefiry_User_is_logged:"",timeToVerifyOffline:6e4,cookie_validacao_fotos:"offline_validacaoFotos",string_ChaveSessionStorageDadosConclusao:"dados_conclusao_pedido",CallbackVerifyOnline:undefined,Carregar:function(n,t,i,r){var u=oOffline;u.default_page_logged=n;u.url_vefiry_User_is_logged=t;u.string_url_api_tools_ping=u.string_url_base_aplicacao+u.string_url_api_tools_ping;u.cookie_offline_name=i;u.logout_online=r},CheckNetConnection:function(){var t=oOffline,n=!1;try{$.ajax({type:"GET",url:t.string_url_api_tools_ping,async:!1}).done(function(){n=!0}).fail(function(){n=!1})}catch(i){}return n},VerifyUpdateCacheOffLine:function(){var t=oOffline,n=window.applicationCache;window.addEventListener("load",function(){n.addEventListener("updateready",function(){if(n.status==n.UPDATEREADY)try{n.swapCache();window.location.reload()}catch(e){t.ReloadPopCache()}else oUtil.ShowProgress(!0)},!1);n.addEventListener("downloading",function(){oUtil.ShowProgress(!0)},!1);n.addEventListener("error",function(){oUtil.ShowProgress(!1);var n=oOffline;n.ReloadPopCache()},!1);n.addEventListener("cached",function(){oUtil.ShowProgress(!1)},!1);n.addEventListener("progress",function(n){n.lengthComputable&&document.querySelector("#progressBar").MaterialProgress.setProgress(n.loaded/n.total*100)},!1)},!1)},ReloadPopCache:function(){oUtil.ShowProgress(!1);oUtil.ShowLoader(!1);var n=$("#div-update-cache");n.find(".btn-ok").unbind("click");n.find(".btn-ok").on("click",function(){return window.location.reload(),!1});n.modal()},verifyOnline:function(){var t=oOffline,n=oOffline.CheckNetConnection();t.UpdateImage(n);oOffline.CallbackVerifyOnline!=undefined&&oOffline.CallbackVerifyOnline(n)},UpdateImage:function(n){var t=$("#status_network");n==!0?(t.find(".network_on").removeClass("hidden"),t.find(".network_off").addClass("hidden")):(t.find(".network_on").addClass("hidden"),t.find(".network_off").removeClass("hidden"))},getCookie:function(n){return $.cookie(n)},setCookie:function(n,t,i){$.cookie(n,t,{expires:i},{path:"/"})},deleteCookie:function(n){$.removeCookie(n);$.removeCookie(n,{path:""});$.removeCookie(n,{path:"/"});$.removeCookie(n,{path:oInicial.BaseUrlAplicacao})},verifyUserLogged:function(){var n=oOffline;return cookieLogin=n.getCookie(n.cookie_offline_name),cookieLogin!=""&&cookieLogin!=undefined},verifyAcesso:function(){var n=oOffline,t,r,i;if(oUtil.GetToken().AuthToken==""&&(t=n.getCookie(cookie_user_name),t=JSON.parse(t),token=t.Token),!n.verifyUserLogged()&&!n.vefiryUserIsLogged()){if(r=!0,/\/Checkout\/Confirm/.test(location.pathname)){i=null;try{i=JSON.parse(window.sessionStorage.getItem(n.string_ChaveSessionStorageDadosConclusao))}catch(u){i=null}i!=null&&(r=!1)}r&&(document.location.href=oInicial.BaseUrlAplicacao+"/")}},vefiryUserIsLogged:function(){var t=oOffline,n=!1;try{$.ajax({url:t.url_vefiry_User_is_logged,async:!1,type:"POST"}).done(function(t){n=t.IsLogged==undefined?!0:t.IsLogged}).fail(function(){n=!1}).always(function(){})}catch(i){}return n},Logout:function(){var n=oOffline;n.vefiryUserIsLogged()?document.location.href=n.logout_online:(oOffline.deleteCookie(oOffline.cookie_offline_name),document.location.href=baseUrl+oInicial.BaseUrlAplicacao+"/")},RedirectUrlONorOFF:function(n,t){var i=oOffline;document.location.href=i.CheckNetConnection()?n:t}};oOffline.Carregar(default_page_logged_offline,url_vefiryUserIsLogged,cookie_offline_name,logout_online);jQuery(document).ready(function(){oOffline.VerifyUpdateCacheOffLine();oOffline.verifyOnline();oOffline.intervalVerifyOnline=setInterval(oOffline.verifyOnline,oOffline.timeToVerifyOffline)});
/*
//# sourceMappingURL=offline.min.js.map
*/