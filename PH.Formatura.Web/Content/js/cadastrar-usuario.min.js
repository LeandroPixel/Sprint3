var oCadastro={jqThis:null,string_url_base_aplicacao:oGeral.string_url_base_aplicacao||oInicial.BaseUrlAplicacao,string_url_cadastrar_usuario:"/User/CadastrarUsuario",string_mensagem_ddd_invalido:"- DDD inválido;<br/>",string_mensagem_telefone_invalido:"- Telefone inválido;<br/>",string_tamanho_minimo_ddd:2,string_tamanho_minimo_telefone:8,string_duracao_transicoes:400,string_mensagem_sessao_expirada:"Sessão expirada. Por favor, faça login e tente novamente.",evento_click:"click",evento_load:"load",evento_keyup:"keyup",evento_submit:"submit",seletor_geral:".conteudo-cadastrar-usuario",seletor_form_cadastrar:".form-cadastrar-usuario",seletor_form_cadastrar_nao_ativo:".form-cadastrar-usuario:not(.ativo)",seletor_form_cadastrar_ativo:".form-cadastrar-usuario.ativo",seletor_btn_cadastrar:".btn-confirma-cadastro",seletor_tbx_nome:"#tbx-nome",seletor_tbx_email:"#tbx-email",seletor_tbx_senha:"#tbx-senha",seletor_tbx_ddd:"#tbx-ddd",seletor_tbx_telefone:"#tbx-telefone",seletor_mensagem_cadastro:".p-mensagem-cadastro",Carregar:function(){var n=this;n.string_url_cadastrar_usuario=n.string_url_base_aplicacao+n.string_url_cadastrar_usuario;n.jqThis=jQuery(n.seletor_geral);n.jqThis.length&&n.CarregarEventos()},CarregarEventos:function(){var n=this;n.jqThis.on(n.evento_submit,n.seletor_form_cadastrar,function(){return n.ValidarCadastro(),!1})},ValidarCadastro:function(){var n=this;if(!n.jqThis.find(n.seletor_form_cadastrar).hasClass("ativo")){n.jqThis.find(n.seletor_form_cadastrar).addClass("ativo");var t=!1,i="",r=n.jqThis.find(n.seletor_tbx_nome+","+n.seletor_tbx_email+","+n.seletor_tbx_senha+","+n.seletor_tbx_ddd+","+n.seletor_tbx_telefone),e=n.jqThis.find(n.seletor_tbx_nome),o=n.jqThis.find(n.seletor_tbx_email),s=n.jqThis.find(n.seletor_tbx_senha),u=n.jqThis.find(n.seletor_tbx_ddd),f=n.jqThis.find(n.seletor_tbx_telefone);n.DDD_Valido(u.val())||(t=!0,i+=n.string_mensagem_ddd_invalido);n.Telefone_Valido(f.val())||(t=!0,i+=n.string_mensagem_telefone_invalido);t?n.jqThis.find(n.seletor_mensagem_cadastro).promise().done(function(){jQuery(this).slideUp(n.string_duracao_transicoes,function(){jQuery(this).html(i).slideDown(n.string_duracao_transicoes,function(){n.jqThis.find(n.seletor_form_cadastrar).removeClass("ativo")})})}):jQuery.ajax({type:"POST",url:n.string_url_cadastrar_usuario,contentType:"application/json",data:JSON.stringify({email:o.val().trim(),senha:s.val(),nome:e.val().trim(),telefone:u.val().toString()+f.val().toString()}),beforeSend:function(){r.each(function(){jQuery(this).attr("readonly","readonly")});n.jqThis.find(n.seletor_mensagem_cadastro).promise().done(function(){jQuery(this).slideUp(n.string_duracao_transicoes,function(){jQuery(this).html("")})})}}).done(function(t){t&&(t.Sucesso===undefined&&t.error===undefined&&(alert(n.string_mensagem_sessao_expirada),document.location.reload(!0)),t.Sucesso&&n.jqThis.find(n.seletor_form_cadastrar)[0].reset(),t.Mensagem&&t.Mensagem.length&&n.jqThis.find(n.seletor_mensagem_cadastro).promise().done(function(){jQuery(this).html(t.Mensagem).slideDown(n.string_duracao_transicoes,function(){})}))}).fail(function(){}).always(function(){r.each(function(){jQuery(this).removeAttr("readonly")});n.jqThis.find(n.seletor_form_cadastrar).removeClass("ativo")})}},DDD_Valido:function(n){var t=this;return isNaN(n)||n.length<t.string_tamanho_minimo_ddd||n<11||n%10==0?!1:!0},Telefone_Valido:function(n){var t=this;return isNaN(n)||n.length<t.string_tamanho_minimo_telefone||n.charAt(0)==0||n.charAt(0)==1?!1:!0}};jQuery(document).ready(function(){oCadastro.Carregar()});
/*
//# sourceMappingURL=cadastrar-usuario.min.js.map
*/